===================
Try-except statements
===================

try
  foo();
except (E_TYPE)
  return 0;
endtry

---

(program
  (try
    (call
      (identifier)
      (arglist))
    (except
      (ERR)
      (return
        (INTEGER)))))

===================
Try-except with any
===================

try
  foo();
except (ANY)
  return "error";
endtry

---

(program
  (try
    (call
      (identifier)
      (arglist))
    (except
      (return
        (STRING)))))

===================
Try-except with label
===================

try
  foo();
except handler (E_TYPE)
  return "handled";
endtry

---

(program
  (try
    (call
      (identifier)
      (arglist))
    (except
      (identifier)
      (ERR)
      (return
        (STRING)))))

===================
Try-except with multiple handlers
===================

try
  foo();
except (E_TYPE, E_DIV)
  return 0;
except (ANY)
  return -1;
endtry

---

(program
  (try
    (call
      (identifier)
      (arglist))
    (except
      (ERR)
      (ERR)
      (return
        (INTEGER)))
    (except
      (return
        (INTEGER)))))

===================
Try-except with finally
===================

try
  foo();
except (E_TYPE)
  return 0;
finally
  cleanup();
endtry

---

(program
  (try
    (call
      (identifier)
      (arglist))
    (except
      (ERR)
      (return
        (INTEGER)))
    (call
      (identifier)
      (arglist))))

===================
Try expression simple
===================

x = `foo() ! ANY => 0';

---

(program
  (assign
    (identifier)
    (try_expr
      (call
        (identifier)
        (arglist))
      (INTEGER))))

===================
Try expression with error list
===================

x = `foo() ! E_TYPE, E_ARGS => -1';

---

(program
  (assign
    (identifier)
    (try_expr
      (call
        (identifier)
        (arglist))
      (ERR)
      (ERR)
      (INTEGER))))

===================
Try expression without handler
===================

x = `foo() ! ANY';

---

(program
  (assign
    (identifier)
    (try_expr
      (call
        (identifier)
        (arglist)))))