===================
Basic Flyweights
===================

<#123>;
<#123, []>;
<#123, [], {}>;

---

(program
  (assignment_expr
    (conditional_expr
      (unary_expr
        (postfix_expr
          (primary_expr
            (flyweight
              (unary_expr
                (postfix_expr
                  (primary_expr
                    (objid
                      (INTEGER)))))))))))
  (assignment_expr
    (conditional_expr
      (unary_expr
        (postfix_expr
          (primary_expr
            (flyweight
              (unary_expr
                (postfix_expr
                  (primary_expr
                    (objid
                      (INTEGER)))))
              (map)))))))
  (assignment_expr
    (conditional_expr
      (unary_expr
        (postfix_expr
          (primary_expr
            (flyweight
              (unary_expr
                (postfix_expr
                  (primary_expr
                    (objid
                      (INTEGER)))))
              (map)
              (list))))))))

===================
Complex Flyweights
===================

<#123, [prop -> "value"], {1, 2}>;
<#456, [name -> "test", flag -> true], {"a", "b"}>;
<#789, [x -> 1, y -> 2.5], {true, false, #123}>;

---

(program
  (assignment_expr
    (conditional_expr
      (unary_expr
        (postfix_expr
          (primary_expr
            (flyweight
              (unary_expr
                (postfix_expr
                  (primary_expr
                    (objid
                      (INTEGER)))))
              (map
                (pair
                  (assignment_expr
                    (conditional_expr
                      (unary_expr
                        (postfix_expr
                          (primary_expr
                            (identifier))))))
                  (assignment_expr
                    (conditional_expr
                      (unary_expr
                        (postfix_expr
                          (primary_expr
                            (STRING))))))))
              (list
                (assignment_expr
                  (conditional_expr
                    (unary_expr
                      (postfix_expr
                        (primary_expr
                          (INTEGER))))))
                (assignment_expr
                  (conditional_expr
                    (unary_expr
                      (postfix_expr
                        (primary_expr
                          (INTEGER)))))))))))))
  (assignment_expr
    (conditional_expr
      (unary_expr
        (postfix_expr
          (primary_expr
            (flyweight
              (unary_expr
                (postfix_expr
                  (primary_expr
                    (objid
                      (INTEGER)))))
              (map
                (pair
                  (assignment_expr
                    (conditional_expr
                      (unary_expr
                        (postfix_expr
                          (primary_expr
                            (identifier))))))
                  (assignment_expr
                    (conditional_expr
                      (unary_expr
                        (postfix_expr
                          (primary_expr
                            (STRING)))))))
                (pair
                  (assignment_expr
                    (conditional_expr
                      (unary_expr
                        (postfix_expr
                          (primary_expr
                            (identifier))))))
                  (assignment_expr
                    (conditional_expr
                      (unary_expr
                        (postfix_expr
                          (primary_expr
                            (boolean))))))))
              (list
                (assignment_expr
                  (conditional_expr
                    (unary_expr
                      (postfix_expr
                        (primary_expr
                          (STRING))))))
                (assignment_expr
                  (conditional_expr
                    (unary_expr
                      (postfix_expr
                        (primary_expr
                          (STRING)))))))))))))
  (assignment_expr
    (conditional_expr
      (unary_expr
        (postfix_expr
          (primary_expr
            (flyweight
              (unary_expr
                (postfix_expr
                  (primary_expr
                    (objid
                      (INTEGER)))))
              (map
                (pair
                  (assignment_expr
                    (conditional_expr
                      (unary_expr
                        (postfix_expr
                          (primary_expr
                            (identifier))))))
                  (assignment_expr
                    (conditional_expr
                      (unary_expr
                        (postfix_expr
                          (primary_expr
                            (INTEGER)))))))
                (pair
                  (assignment_expr
                    (conditional_expr
                      (unary_expr
                        (postfix_expr
                          (primary_expr
                            (identifier))))))
                  (assignment_expr
                    (conditional_expr
                      (unary_expr
                        (postfix_expr
                          (primary_expr
                            (FLOAT))))))))
              (list
                (assignment_expr
                  (conditional_expr
                    (unary_expr
                      (postfix_expr
                        (primary_expr
                          (boolean))))))
                (assignment_expr
                  (conditional_expr
                    (unary_expr
                      (postfix_expr
                        (primary_expr
                          (boolean))))))
                (assignment_expr
                  (conditional_expr
                    (unary_expr
                      (postfix_expr
                        (primary_expr
                          (objid
                            (INTEGER)))))))))))))))
