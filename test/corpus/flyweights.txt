===================
Basic Flyweights
===================

<#123>;
<#123, []>;
<#123, [], {}>;

---

(program
  (flyweight
    parent: (objid
      number: (INTEGER)))
  (flyweight
    parent: (objid
      number: (INTEGER))
    properties: (map))
  (flyweight
    parent: (objid
      number: (INTEGER))
    properties: (map)
    values: (list)))

===================
Complex Flyweights
===================

<#123, [prop -> "value"], {1, 2}>;
<#456, [name -> "test", flag -> true], {"a", "b"}>;
<#789, [x -> 1, y -> 2.5], {true, false, #123}>;

---

(program
  (flyweight
    parent: (objid
      number: (INTEGER))
    properties: (map
      entries: (pair
        key: (identifier)
        value: (STRING)))
    values: (list
      elements: (INTEGER)
      elements: (INTEGER)))
  (flyweight
    parent: (objid
      number: (INTEGER))
    properties: (map
      entries: (pair
        key: (identifier)
        value: (STRING))
      entries: (pair
        key: (identifier)
        value: (boolean)))
    values: (list
      elements: (STRING)
      elements: (STRING)))
  (flyweight
    parent: (objid
      number: (INTEGER))
    properties: (map
      entries: (pair
        key: (identifier)
        value: (INTEGER))
      entries: (pair
        key: (identifier)
        value: (FLOAT)))
    values: (list
      elements: (boolean)
      elements: (boolean)
      elements: (objid
        number: (INTEGER)))))
